(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,a,t){},30:function(e,a,t){e.exports=t.p+"static/media/welcomeImg.085abbcc.png"},35:function(e,a,t){e.exports=t.p+"static/media/paws.a05f321b.png"},36:function(e,a,t){e.exports=t(71)},41:function(e,a,t){},42:function(e,a,t){},56:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(28),s=t.n(l),c=(t(41),t(2)),o=t(3),i=t(5),m=t(4),u=t(8),d=t(6),h=t(16),p=t(14),b=(t(42),t(15)),f=t.n(b);b.initializeApp({apiKey:"AIzaSyDxLGG753ZzAjG38sbhBl-xPhjsg-Q2wQM",authDomain:"social-network-react-c98ba.firebaseapp.com",databaseURL:"https://social-network-react-c98ba.firebaseio.com",projectId:"social-network-react-c98ba",storageBucket:"social-network-react-c98ba.appspot.com",messagingSenderId:"833472413436",appId:"1:833472413436:web:d0bc1c6f744ada01"});var g=b,E=function(e){function a(e){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("h2",{className:"logo"},this.props.title))}}]),a}(n.Component),v=t(30),N=t.n(v),j=(t(56),{width:"600px",height:"300px"}),O=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"welcome",className:"text-center"},r.a.createElement(E,null),r.a.createElement("img",{className:"welcomeImg img-fluid",src:N.a,alt:"pets",style:j}),r.a.createElement("p",null," ",r.a.createElement("i",{className:"fas fa-paw"})," Publica y encuentra a tus mascotas perdidas"),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-paw"})," Localiza al mejor adoptante"),r.a.createElement("p",null," ",r.a.createElement("i",{className:"fas fa-paw"})," Descubre a tu mascota ideal"),r.a.createElement(h.c,{to:"/signin",className:"btn color-btn"},"Iniciar sesi\xf3n"))}}]),a}(n.Component),C=t(17),y=t(33),w=t.n(y),x=t(12),k=t.n(x),I=t(34),S=t.n(I),U=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).handleUploadStart=function(){e.setState({progress:0})},e.handleUploadSuccess=function(a){e.setState({image:a,progress:100}),g.storage().ref("lostPets").child(a).then(function(a){return e.setState({imageURL:a})})},e.state={image:" ",imageURL:" ",progress:0},e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{clasName:"container"},r.a.createElement("label",null,"Cargando"),r.a.createElement("p",null,this.state.progress),this.state.image&&r.a.createElement("img",{src:this.state.imageURL,alt:"lost-pet"}),r.a.createElement(S.a,{accept:"image/*",name:"image",storageRef:g.storage().ref("lostPets"),onUploadStart:this.handleUploadStart,onUploadSuccess:this.handleUploadSuccess}))}}]),a}(r.a.Component),F=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(C.a)({},e.target.id,e.target.value))},t.state={name:"",date:"",description:"",details:"",signs:"",contact:""},t.handleChange=t.handleChange.bind(Object(u.a)(t)),t.sendFormFirebase=t.sendFormFirebase.bind(Object(u.a)(t)),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"sendFormFirebase",value:function(e){e.preventDefault(e);var a=g.auth().currentUser.uid,t=g.auth().currentUser.displayName,n=w()().format("lll"),r=g.database().ref("users/"+a).child("post").push().key,l={creator:t,name:this.state.name,date:this.state.date,description:this.state.description,details:this.state.details,signs:this.state.signs,contact:this.state.contact,publishedDate:n,id:r},s={};s["/wall/"+r]=l,s["/profiles/"+a+"/"+r]=l,g.database().ref().update(s).then(function(e){console.log(e)}),console.log(s),this.setState({name:"",date:"",description:"",details:"",signs:"",contact:""}),k.a.fire({type:"success",title:"Listo",text:"Tu formulario ha sido publicado",timer:1900}).then(function(e){e.dismiss===k.a.DismissReason.timer&&console.log("El timer me cerro")})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container col-lg-8 "},r.a.createElement("button",{type:"button",className:"btn btn-warning text-white","data-toggle":"modal","data-target":"#exampleModal","data-whatever":"@getbootstrap"},"Llenar formulario"),r.a.createElement("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Mascota perdida"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{className:"colors"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Nombre:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"name",placeholder:"Nombre de la mascota",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Lugar y fecha:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"date",placeholder:"Lugar y fecha de cuando fue vista por \xfaltima vez",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Descripci\xf3n:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"description",placeholder:"Talla, raza, color",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Detalles:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"details",placeholder:"Menciona si tra\xeda placa, collar y/o ropa",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Se\xf1as particulares:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"signs",placeholder:"\xbfQu\xe9 se\xf1as particulares tiene tu mascota?",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Contacto:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"contact",placeholder:"Nombre y telefono con quien ponerse en contacto",required:!0}),r.a.createElement(U,null)))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Cancelar"),r.a.createElement("button",{type:"button",onClick:this.sendFormFirebase,"data-dismiss":"modal",className:"btn btn-success"},"Publicar"))))))}}]),a}(n.Component),D=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).deletePost=function(e){e.preventDefault();var a=e.target.id;console.log(a);var t=g.auth().currentUser.uid,n=g.database().ref().child("wall/"),r=n.child("profiles/"+t);k.a.fire({type:"warning",title:"\xbfQuieres eliminar tu publicaci\xf3n?",showCancelButton:!0,confirmButtonColor:"#27A10C",confirmButtonText:"Si, eliminarlo",cancelButtonColor:"#d33",timer:2500}).then(function(e){console.log("result",e.value),e.value&&(k.a.fire({type:"success",title:"Listo",text:"Tu formulario ha sido eliminado",timer:1500}).then(function(e){e.dismiss===k.a.DismissReason.timer&&console.log("El timer me cerro")}),n.child(a).remove(),r.child(a).remove())})},e.state={posts:[]},e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=this;g.database().ref().child("wall/").on("value",function(a){var t=function(e){var a=[];return e.forEach(function(e){var t=e.val();a.unshift(t)}),a}(a);e.setState({posts:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container col-lg-12"},this.state.posts.map(function(a,t){return r.a.createElement("div",{className:"card",key:t},r.a.createElement("div",{className:"card-header col-md-12 col-sm-12"},console.log(a.idUser),r.a.createElement("span",null,a.creator)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},a.name),r.a.createElement("p",{className:"card-text"},"Es de raza ",a.description,", se perdi\xf3 por"," ",a.date," ",a.details,". Sus se\xf1as particulares son: ",a.signs,", si la ves, ponte en contacto con: ",a.contact," "),r.a.createElement("small",{className:"card-text"},a.publishedDate)),r.a.createElement("div",{className:"container"},r.a.createElement("button",{type:"button",onClick:e.deletePost,id:a.id,className:"btn"},"Eliminar")))}))}}]),a}(n.Component),L=(t(27),t(67),function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).signOut=e.signOut.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"signOut",value:function(){f.a.auth().signOut().then(function(){console.log("Sesion cerrada")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("button",{className:"btnSignOut",onClick:this.signOut},"Cerrar sesi\xf3n")}}]),a}(n.Component)),B=t(35),P=t.n(B),M=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar col-lg-12 bg-color"},r.a.createElement("a",{className:"navbar-brand",href:"#welcome"},r.a.createElement("img",{src:P.a,width:"40",height:"40",className:"d-inline-block align-top",alt:"logo"}),"Paws"),r.a.createElement(L,{className:"btn justify-content-end"}))}}]),a}(n.Component),A=(t(68),function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(){var e=this.props.user,a={uid:e.uid,name:e.displayName,email:e.email};void 0===a.uid?console.log("no"):g.database().ref("users/"+e.uid).set(a)}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"container justify-content-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(M,{className:"col-lg-12"}),r.a.createElement("p",{className:"text"},"Mascotas Extrav\xedadas "),r.a.createElement(F,{userInfo:e}),r.a.createElement(D,{infoUser:e})),r.a.createElement("div",{className:"col-4"})))}}]),a}(n.Component)),R=(t(69),function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){e.setState(Object(C.a)({},a.target.id,a.target.value))},e.state={email:"",password:""},e.signIn=e.signIn.bind(Object(u.a)(e)),e.handleChange=e.handleChange.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"signIn",value:function(e){e.preventDefault(),f.a.auth().signInWithEmailAndPassword(this.state.email,this.state.password).catch(function(e){console.log(e),k.a.fire({type:"error",title:"Vuelve a intentarlo",showConfirmButton:!1,timer:1500})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container col-lg-6"},r.a.createElement("form",{onSubmit:this.signIn,className:"colors"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h1",{className:"text-center"},"Inicia Sesi\xf3n"),r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Correo electr\xf3nico"),r.a.createElement("input",{type:"email",onChange:this.handleChange,className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Ingresa email",autocomplete:"off"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",onChange:this.handleChange,className:"form-control",id:"password",placeholder:"Ingresa contrase\xf1a"})),r.a.createElement("button",{type:"submit",className:"btn color"},"Ingresar"),r.a.createElement(h.b,{to:"/register",className:"brand-logo btn btnRegister"},"Crear Cuenta")))}}]),a}(n.Component)),q=(t(70),function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){e.setState(Object(C.a)({},a.target.id,a.target.value))},e.state={name:"",lastName:"",email:"",password:""},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.createUser=e.createUser.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"createUser",value:function(e){e.preventDefault();var a=this.state.name;console.log(this.state);var t=this.state.lastName,n=this.state.email,r=this.state.password;g.auth().createUserWithEmailAndPassword(n,r).then(function(){g.auth().currentUser.updateProfile({displayName:a+t})}).catch(function(e){console.log(e),k.a.fire({type:"error",title:"Vuelve a intentarlo",showConfirmButton:!1,timer:1500})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container col-lg-6"},r.a.createElement("form",{onSubmit:this.createUser,className:"colors"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h1",{className:"text-center"},"Crea tu cuenta"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputName1"},"Nombre"),r.a.createElement("input",{type:"text",onChange:this.handleChange,className:"form-control",id:"name",placeholder:"Ingresa nombre"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputLastName1"},"Apellido"),r.a.createElement("input",{type:"text",onChange:this.handleChange,className:"form-control",id:"lastName",placeholder:"Ingresa un apellido"})),r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Correo electr\xf3nico"),r.a.createElement("input",{type:"email",onChange:this.handleChange,className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Ingresa un email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Contrase\xf1a"),r.a.createElement("input",{type:"password",onChange:this.handleChange,className:"form-control",id:"password",placeholder:"Ingresa contrase\xf1a"})),r.a.createElement("button",{type:"submit",className:"btn btn-color col text-center btn-default"},"Crear cuenta")))}}]),a}(n.Component)),z=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={user:{},userDB:{}},e.observerListener=e.observerListener.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.observerListener()}},{key:"observerListener",value:function(){var e=this;g.auth().onAuthStateChanged(function(a){a?(e.setState({user:a}),null===a.displayName?e.setState({userDB:{email:a.email,name:a.displayName}}):e.setState({userDB:{name:a.displayName,email:a.email}})):e.setState({user:null})}),console.log(this.state.userDB)}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(O,null)}}),r.a.createElement(p.a,{path:"/signin",render:function(){return e.state.user?r.a.createElement(A,{user:e.state.user}):r.a.createElement(R,null)}}),r.a.createElement(p.a,{path:"/register",render:function(){return e.state.user?r.a.createElement(A,null):r.a.createElement(q,null)}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.a2c025da.chunk.js.map