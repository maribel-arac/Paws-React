(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,a,t){e.exports=t.p+"static/media/paws.3e26666d.png"},28:function(e,a,t){},31:function(e,a,t){e.exports=t.p+"static/media/welcomeImg.085abbcc.png"},36:function(e,a,t){e.exports=t(74)},41:function(e,a,t){},42:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(29),s=t.n(l),c=(t(41),t(2)),o=t(3),i=t(5),m=t(4),u=t(8),d=t(6),h=t(14),p=t(15),b=(t(42),t(16)),f=t.n(b);b.initializeApp({apiKey:"AIzaSyDxLGG753ZzAjG38sbhBl-xPhjsg-Q2wQM",authDomain:"social-network-react-c98ba.firebaseapp.com",databaseURL:"https://social-network-react-c98ba.firebaseio.com",projectId:"social-network-react-c98ba",storageBucket:"social-network-react-c98ba.appspot.com",messagingSenderId:"833472413436",appId:"1:833472413436:web:d0bc1c6f744ada01"});var g=b,E=t(22),v=t.n(E),N=(t(56),function(e){function a(e){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar col-lg-12 bg-color"},r.a.createElement("a",{className:"navbar-brand",href:"#signin"},r.a.createElement("img",{src:v.a,width:"75",height:"75",className:"d-inline-block align-top",alt:"logo"})),r.a.createElement("p",{className:"font-color"},"PAWS"))}}]),a}(n.Component)),j=t(31),y=t.n(j),O=(t(57),{width:"600px",height:"300px",marginTop:"50px"}),C=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"welcome",className:"text-center"},r.a.createElement(N,null),r.a.createElement("img",{className:"welcomeImg img-fluid",src:y.a,alt:"pets",style:O}),r.a.createElement("p",null," ",r.a.createElement("i",{className:"fas fa-paw"})," Publica y encuentra a tus mascotas perdidas"),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-paw"})," Localiza al mejor adoptante"),r.a.createElement(h.c,{to:"/signin",className:"btn btnColor"},"Iniciar sesi\xf3n"))}}]),a}(n.Component),x=t(17),w=t(34),k=t.n(w),S=t(12),I=t.n(S),P=t(35),D=t.n(P),U=(t(68),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(x.a)({},e.target.id,e.target.value))},t.handleUploadSuccess=function(e){t.setState({image:e}),g.storage().ref("lostPets").child(e).getDownloadURL().then(function(e){return t.setState({imageURL:e})})},t.state={name:"",date:"",description:"",details:"",signs:"",contact:"",image:"",imageURL:""},t.handleChange=t.handleChange.bind(Object(u.a)(t)),t.sendFormFirebase=t.sendFormFirebase.bind(Object(u.a)(t)),t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"sendFormFirebase",value:function(e){e.preventDefault(e);var a=g.auth().currentUser.uid,t=g.auth().currentUser.displayName,n=k()().format("lll"),r=g.database().ref("users/"+a).child("post").push().key,l={creator:t,name:this.state.name,date:this.state.date,description:this.state.description,details:this.state.details,signs:this.state.signs,contact:this.state.contact,publishedDate:n,id:r,photoUrl:this.state.imageURL},s={};s["/wall/"+r]=l,s["/profiles/"+a+"/"+r]=l,g.database().ref().update(s).then(function(e){console.log(e)}),console.log(s),this.setState({name:"",date:"",description:"",details:"",signs:"",contact:""}),I.a.fire({type:"success",title:"Listo",text:"Tu formulario ha sido publicado",timer:1900}).then(function(e){e.dismiss===I.a.DismissReason.timer&&console.log("El timer me cerro")})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container alignBtn col-lg-12"},r.a.createElement("button",{type:"button",className:"btn colorBtn justify-content-end col-lg-3 text-white","data-toggle":"modal","data-target":"#exampleModal","data-whatever":"@getbootstrap"},"Llenar formulario"),r.a.createElement("div",{className:"modal fade col-lg-12",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title",id:"exampleModalLabel"},"Mascota perdida"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{className:"colors"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Nombre:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"name",placeholder:"Nombre de la mascota",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Lugar y fecha:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"date",placeholder:"Lugar y fecha de cuando fue vista por \xfaltima vez",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Descripci\xf3n:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"description",placeholder:"Talla, raza, color",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Detalles:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"details",placeholder:"Menciona si tra\xeda placa, collar y/o ropa",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Se\xf1as particulares:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"signs",placeholder:"\xbfQu\xe9 se\xf1as particulares tiene tu mascota?",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"message-text",className:"col-form-label"},"Contacto:"),r.a.createElement("textarea",{className:"form-control",onChange:this.handleChange,id:"contact",placeholder:"Nombre y telefono con quien ponerse en contacto",required:!0}),r.a.createElement("div",{className:"container"},this.state.image&&r.a.createElement("img",{src:this.state.imageURL,alt:""}),r.a.createElement(D.a,{accept:"image/*",name:"image",storageRef:g.storage().ref("lostPets"),onUploadSuccess:this.handleUploadSuccess}))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Cancelar"),r.a.createElement("button",{type:"button",onClick:this.sendFormFirebase,"data-dismiss":"modal",className:"btn btn-success"},"Publicar"))))))}}]),a}(n.Component)),B=(t(69),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).likePost=function(){t.setState({count:t.state.likeCounter+1})},t.deletePost=function(e){e.preventDefault();var a=e.target.id;console.log(a);var t=g.auth().currentUser.uid,n=g.database().ref().child("wall/"),r=n.child("profiles/"+t);I.a.fire({type:"warning",title:"\xbfQuieres eliminar tu publicaci\xf3n?",showCancelButton:!0,confirmButtonColor:"#27A10C",confirmButtonText:"Si, eliminarlo",cancelButtonColor:"#d33",timer:2500}).then(function(e){console.log("result",e.value),e.value&&(I.a.fire({type:"success",title:"Listo",text:"Tu formulario ha sido eliminado",timer:1500}).then(function(e){e.dismiss===I.a.DismissReason.timer&&console.log("El timer me cerro")}),n.child(a).remove(),r.child(a).remove())})},t.state={posts:[],imageURL:" ",likeCounter:0},t}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=this;g.database().ref().child("wall/").on("value",function(a){var t=function(e){var a=[];return e.forEach(function(e){var t=e.val();a.unshift(t)}),a}(a);e.setState({posts:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container col-lg-12 text-center"},this.state.posts.map(function(a,t){return r.a.createElement("div",{className:"card bg-transparent",key:t},r.a.createElement("div",{className:"card-header col-md-12 col-sm-12"},console.log(a.idUser),r.a.createElement("span",{className:"fontText"},a.creator)),r.a.createElement("img",{src:a.photoUrl,className:"card-img-top img-fluid image",alt:"lost pet"}),console.log(e.state.imageURL),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},a.name),r.a.createElement("p",{className:"card-text description-text"},"Es de raza ",a.description,", se perdi\xf3 por"," ",a.date," ",a.details,". Sus se\xf1as particulares son: ",a.signs,", si la ves, ponte en contacto con: ",a.contact," "),r.a.createElement("small",{className:"card-text"},a.publishedDate)),r.a.createElement("div",{className:"container"},r.a.createElement("button",{type:"button",onClick:e.likePost,className:"btn sadBtn"},r.a.createElement("span",null,"\ud83d\ude1e Me entristece ")),r.a.createElement("button",{type:"button",onClick:e.deletePost,id:a.id,className:"btn deleteBtn"}," ",r.a.createElement("i",{className:"fas fa-trash"}),"Eliminar")))}))}}]),a}(n.Component)),L=(t(28),t(70),function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).signOut=e.signOut.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"signOut",value:function(){f.a.auth().signOut().then(function(){console.log("Sesion cerrada")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("button",{className:"btnSignOut",onClick:this.signOut},"Cerrar sesi\xf3n")}}]),a}(n.Component)),F=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar col-lg-12 bg-color sticky-top"},r.a.createElement("a",{className:"navbar-brand",href:"#signin"},r.a.createElement("img",{src:v.a,width:"75",height:"75",className:"d-inline-block align-top",alt:"logo"})),r.a.createElement("h1",null,"Mascotas extrav\xedadas"),r.a.createElement("a",{className:"nav-link",to:"/Profile"},r.a.createElement(h.b,{to:"/Profile",className:""},"Perfil ",r.a.createElement("span",null))),r.a.createElement(L,{className:"btn justify-content-end"}))}}]),a}(n.Component),R=(t(71),function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(){var e=this.props.user,a={uid:e.uid,name:e.displayName,email:e.email};void 0===a.uid||g.database().ref("users/"+e.uid).set(a)}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"container justify-content-center col-lg-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement(F,null),r.a.createElement("h1",{className:"title"},"\xbfSe te perdi\xf3 tu mascota? \xa1Publ\xedcala y encu\xe9ntrala!"),r.a.createElement(U,{userInfo:e}),r.a.createElement(B,{infoUser:e}))))}}]),a}(n.Component)),M=(t(72),function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){e.setState(Object(x.a)({},a.target.id,a.target.value))},e.state={email:"",password:""},e.signIn=e.signIn.bind(Object(u.a)(e)),e.handleChange=e.handleChange.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"signIn",value:function(e){e.preventDefault(),f.a.auth().signInWithEmailAndPassword(this.state.email,this.state.password).catch(function(e){console.log(e),I.a.fire({type:"error",title:"Vuelve a intentarlo",showConfirmButton:!1,timer:1500})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container col-lg-12"},r.a.createElement(N,null),r.a.createElement("div",{className:"container col-lg-6"},r.a.createElement("form",{onSubmit:this.signIn,className:"colors"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h1",{className:"text-center"},"Inicia Sesi\xf3n"),r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Correo electr\xf3nico:"),r.a.createElement("input",{type:"email",onChange:this.handleChange,className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"ejemplo@dominio.com",autocomplete:"off"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Contrase\xf1a:"),r.a.createElement("input",{type:"password",onChange:this.handleChange,className:"form-control",id:"password",placeholder:"Ingresa contrase\xf1a"})),r.a.createElement("button",{type:"submit",className:"btn btnSignIn"},"Ingresar"),r.a.createElement(h.b,{to:"/register",className:"brand-logo btn btnRegister"},"Crear Cuenta"))))}}]),a}(n.Component)),A=(t(73),function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).handleChange=function(a){e.setState(Object(x.a)({},a.target.id,a.target.value))},e.state={name:"",lastName:"",email:"",password:""},e.handleChange=e.handleChange.bind(Object(u.a)(e)),e.createUser=e.createUser.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"createUser",value:function(e){e.preventDefault();var a=this.state.name;console.log(this.state);var t=this.state.lastName,n=this.state.email,r=this.state.password;g.auth().createUserWithEmailAndPassword(n,r).then(function(){g.auth().currentUser.updateProfile({displayName:a+" "+t})}).catch(function(e){console.log(e),I.a.fire({type:"error",title:"Vuelve a intentarlo",showConfirmButton:!1,timer:1500})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container col-lg-12"},r.a.createElement(N,null),r.a.createElement("div",{className:"container col-lg-6"},r.a.createElement("form",{onSubmit:this.createUser,className:"colors"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h1",{className:"text-center"},"Crea tu cuenta"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputName1"},"Nombre:"),r.a.createElement("input",{type:"text",onChange:this.handleChange,className:"form-control",id:"name",placeholder:"Ingresa nombre"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputLastName1"},"Apellido:"),r.a.createElement("input",{type:"text",onChange:this.handleChange,className:"form-control",id:"lastName",placeholder:"Ingresa un apellido"})),r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Correo electr\xf3nico:"),r.a.createElement("input",{type:"email",onChange:this.handleChange,className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Ingresa un email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Contrase\xf1a:"),r.a.createElement("input",{type:"password",onChange:this.handleChange,className:"form-control",id:"password",placeholder:"Ingresa contrase\xf1a"})),r.a.createElement("button",{type:"submit",className:"btn btn-color col text-center btn-default"},"Crear cuenta"))))}}]),a}(n.Component)),W=[],z=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={posts:[]},e.postsProfile=e.postsProfile.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(){var e=this.props.userObject;e?this.postsProfile(e.uid):console.log("error")}},{key:"componentDidMount",value:function(){this.componentWillReceiveProps()}},{key:"postsProfile",value:function(e){var a=this;var t=g.database().ref().child("profiles"+e);console.log(e),t.on("value",function(e){W=function(e){var a=[];return e.forEach(function(e){var t=e.val();a.unshift(t)}),a}(e),a.setState({posts:W})}),this.render()}},{key:"render",value:function(){return console.log(this.state.posts),r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,this.props.user.name)),r.a.createElement("div",{className:"col-md-11 align-content-center mx-auto"},W!==[]?this.state.posts.map(function(e,a){return r.a.createElement("div",{className:"card",key:a},r.a.createElement("div",{className:"container col-md-12 col-sm-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-md-9 col-sm-9 col-6"},r.a.createElement("span",{className:""},e.creator))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text description-text"},"Es de raza ",e.description,", se perdi\xf3 por"," ",e.date," ",e.details,". Sus se\xf1as particulares son: ",e.signs,", si la ves, ponte en contacto con: ",e.contact," "),r.a.createElement("small",{className:"card-text"},e.publishedDate))))}):console.log("error"))))}}]),a}(r.a.Component),q=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={user:{},userDB:{}},e.observerListener=e.observerListener.bind(Object(u.a)(e)),e}return Object(d.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.observerListener()}},{key:"observerListener",value:function(){var e=this;g.auth().onAuthStateChanged(function(a){a?(e.setState({user:a}),null===a.displayName?e.setState({userDB:{email:a.email,name:a.displayName}}):e.setState({userDB:{name:a.displayName,email:a.email}})):e.setState({user:null})}),console.log(this.state.userDB)}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(C,null)}}),r.a.createElement(p.a,{path:"/signin",render:function(){return e.state.user?r.a.createElement(R,{user:e.state.user}):r.a.createElement(M,{userBD:e.state.userDB})}}),r.a.createElement(p.a,{path:"/register",render:function(){return e.state.user?r.a.createElement(R,{user:e.state.user}):r.a.createElement(A,{userDB:e.state.userDB})}}),r.a.createElement(p.a,{path:"/profile",render:function(){return r.a.createElement(z,{user:e.state.userDB,userObject:e.state.user})}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.42f0b2a9.chunk.js.map